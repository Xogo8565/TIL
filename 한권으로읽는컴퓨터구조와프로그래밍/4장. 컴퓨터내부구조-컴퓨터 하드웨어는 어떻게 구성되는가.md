4장. 컴퓨터내부구조-컴퓨터 하드웨어는 어떻게 구성되는가
===

# 메모리 
> - 컴퓨터를 조작할 비트를 저장하는 장소
> - 64비트 컴퓨터 : 8바이트 덩어리, 32비트 컴퓨터 : 4바이트 덩어리의 메모리 
> - 엔디안(정렬 방식) : 빅 엔디안 -> 가장 왼쪽에 0번 바이트, 리틀 엔디안 -> 가장 오른쪽에 0번 바이트

# 입력과 출력
> - 컴퓨터에 정보를 전달하거나 컴퓨터에서 정보를 가져오기 위한 장치
> - 과거에는  메모리 거리와 I/O 거리를 분리 
> - 32비트 컴퓨터와 64비트 컴퓨터가 많아지면서 메모리 거리의 주소가 증가.
> - 메모리 거리 중 일부를 I/O 장치에 할당(표준 I/O 슬롯)

# 중앙 처리 장치(CPU / Central Processing Unit)
> CPU 는 실제 계산을 처리하는 컴퓨터 부품
> ## 산술 논리 장치 (ALU / Arithmatic Logic Unit)
> - 산술 계산, 불리언 대수 및 기타 연산을 수행하는 장치
> - 피연산자, 연산코드(명령코드), 결과, 조건 코드 레지스터
> ## 시프트
> - 왼쪽 시프트 : 어떤 숫자의 모든 비트를 왼쪽으로 1비트씩 옮기되, 맨 왼쪽 비트는 버리고, 가장 오른쪽 비트에 0을 채워넣는 방식(x2와 결과값이 같음)
> - 오른쪽 시프트  어떤 숫자의 모든 비트를 오른쪽으로 1비트씩 옮기되, 맨 오른쪽 비트는 버리고, 가장 왼쪽 비트에 0을 채워넣는 방식(해당 수를 2로 나누면서 나머지를 버리는 것과 결과가 같다)
> - 시프트연산을 하면서 MSB(가장 왼쪽 비트)나 LSB(가장 오른쪽 비트) 값이 조건 레지스트에 저장됨.
> ## 실행 장치(Execution Unit / Control Unit) 
> - 메모리의 정해진 장소에서 명령 코드와 피연산자를 가져와 ALU에게 어떤 연산을 수행할지 알려주고, 결과를 메모리에 돌려주는 역할
> - 프로그램 저장 방식 컴퓨터 : 명령어 목록을 제공하면 메모리에서 해동 명령어를 찾아 작동하는 방식
> - 명령어 : 컴퓨터에게 어떤 일을 할지 알려주는 비트 패턴 
> - 프로그램 카운터(PC) : 카운터를 증가시키면서 등록된 명령어를 순차적으로 수행
# 명령어 집합
> ## 명령어
> - 명령어 비트에 피연산자, 결과 등의 필드를 나누면 작은 비트밖에 쓸수 없기 때문에 레지스터 거리에 따른 주소를 추가하는 방식으로 사용된다. 이 레지스터를 누산기(accumulator)라고 한다. 누산기는 ALU가 계산한 결과를 저장한다.
> ## 주소 지정 모드
> - 직접 주소 지정 : 주소필드에 직접 주소를 지정
> - 간접 주소 지정 : 주소필드에 명령어의 주소를 얻을 수 있는 메모리 위치를 가르키는 주소를 지정
> - 즉시 주소 지정 : 주소를 지정하지 않고 직접 값을 지정
> ## 주소 코드 명령어
> - cca : 조건 코드 레지스터의 값을 누산기로 복사
> - acc : 누산기의 값을 조건 코드 레지스터에 복사
> ## 분기 명령어
> - 프로그램 카운터의 값을 변경할 수 있는 명령어
> ## 최종 명령어 집합 구성
 - 모드(2비트), 명령코드(4비트), 주소(10비트)로 구성
# 마지막 설계
> ## 명령어 레지스터
> - 명령어를 실행하려면 어떤 일이 벌어지는지 페치와 실행 두 단계로 이루어진 상태 기계(state machine)로 설명할 수 있다.
> - 처음에 컴퓨터는 메모리에서 명령어를 가져오는 페치(fetch)작업을 한다.
> - CPU에 명령어 레지스터(instruction register)를 추가하여 현재 실행중인 명령어를 저장한다.
> ## 데이터 경로와 제어 신호
> ## 데이터 흐름 제어
> - 어떤 명령어든 치ㅓ리하려면 페치를 해야 한다. 페치를 하려면 다음과 같은 신호가 필요하다
> - 1) address source는 프로그램 카운터를 선택해야 한다. 2) 메모리를 동작시켜야 한다. 그리고  r/w는 읽기로 설정해야한다. 3) 명령어 레지스터를 동작시켜야 한다.
> - 다음은 간접적으로 주소를 메모리에서 가져오기 위해 다음과 같이 신호를 설정해야한다.
> - 1) address source를 명령어 레지스터로 지정 2) 메모리를 동작시켜야한다. r/w는 읽기로 설정해야한다 3) 간접 주소 레지스터를 동작시켜야 한다.
> - 클록 틱이 지나면 간접 주소 레지스터가 가르키는 주소에 누산기의 값을 저장해야한다.
> - 1) adress source 를 간접주소 레지스터로 설정해야 한다. 2) data bus의 enable을 1로 설정해야한다. 3) 메모리를 동작시켜야한다. r/w는 쓰기로 설정해야한다. 4) 프로그램 카운터를 증가 시킨다.
